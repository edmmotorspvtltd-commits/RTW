# ============================================================
# RTWE ERP - ENVIRONMENT CONFIGURATION
# ============================================================
# Copy this file to .env and update with your actual values
# NEVER commit .env file to version control
# ============================================================

# ============================================================
# SERVER CONFIGURATION
# ============================================================
NODE_ENV=development
PORT=5000
BASE_URL=http://localhost:5000
FRONTEND_URL=http://localhost:3000

# ============================================================
# DATABASE CONFIGURATION
# ============================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=rtwe_erp
DB_USER=postgres
DB_PASSWORD=your_database_password_here
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000

# ============================================================
# JWT AUTHENTICATION
# ============================================================
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production_min_32_chars
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your_refresh_token_secret_key_change_this_too
JWT_REFRESH_EXPIRES_IN=7d

# ============================================================
# PASSWORD SECURITY
# ============================================================
BCRYPT_SALT_ROUNDS=12
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=true

# ============================================================
# SESSION CONFIGURATION
# ============================================================
SESSION_TIMEOUT_MINUTES=30
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCK_DURATION_MINUTES=30

# ============================================================
# EMAIL CONFIGURATION (Choose one)
# ============================================================

# Option 1: SendGrid (Recommended)
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=your_sendgrid_api_key_here
EMAIL_FROM=noreply@rtwe-erp.com
EMAIL_FROM_NAME=RTWE ERP System

# Option 2: Nodemailer with Gmail
# EMAIL_PROVIDER=gmail
# GMAIL_USER=your-email@gmail.com
# GMAIL_APP_PASSWORD=your_gmail_app_password
# EMAIL_FROM=your-email@gmail.com
# EMAIL_FROM_NAME=RTWE ERP System

# Option 3: SMTP (Generic)
# EMAIL_PROVIDER=smtp
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your_smtp_user
# SMTP_PASSWORD=your_smtp_password
# EMAIL_FROM=noreply@example.com
# EMAIL_FROM_NAME=RTWE ERP System

# ============================================================
# EMAIL VERIFICATION
# ============================================================
EMAIL_VERIFICATION_REQUIRED=true
VERIFICATION_TOKEN_EXPIRES_HOURS=24
PASSWORD_RESET_TOKEN_EXPIRES_HOURS=2

# ============================================================
# TWO-FACTOR AUTHENTICATION
# ============================================================
TWO_FACTOR_ISSUER=RTWE ERP
TWO_FACTOR_MANDATORY_FOR_ADMINS=true
TWO_FACTOR_WINDOW=2
BACKUP_CODES_COUNT=10

# ============================================================
# FILE UPLOAD CONFIGURATION
# ============================================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,application/pdf
PROFILE_PICTURE_MAX_SIZE=2097152

# ============================================================
# RATE LIMITING
# ============================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=10

# ============================================================
# LOGGING
# ============================================================
LOG_LEVEL=info
LOG_DIR=./logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d

# ============================================================
# CORS CONFIGURATION
# ============================================================
CORS_ORIGIN=http://localhost:3000
CORS_CREDENTIALS=true

# ============================================================
# SECURITY
# ============================================================
ENABLE_HTTPS=false
HELMET_ENABLED=true
CSRF_PROTECTION=true

# ============================================================
# AUDIT TRAIL
# ============================================================
AUDIT_ENABLED=true
AUDIT_LOG_ALL_ACTIONS=true
AUDIT_RETENTION_DAYS=365

# ============================================================
# REDIS CONFIGURATION (Optional - for session management)
# ============================================================
# REDIS_ENABLED=false
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# ============================================================
# MONITORING & ANALYTICS (Optional)
# ============================================================
# SENTRY_DSN=
# ANALYTICS_ENABLED=false
# GOOGLE_ANALYTICS_ID=

# ============================================================
# BACKUP CONFIGURATION (Optional)
# ============================================================
# AUTO_BACKUP_ENABLED=false
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
# BACKUP_DIR=./backups

# ============================================================
# DEVELOPMENT/DEBUG
# ============================================================
DEBUG=false
SQL_LOGGING=false
PRETTY_PRINT_JSON=true

# ============================================================
# ENCRYPTION KEYS
# ============================================================
# Used for encrypting sensitive data like 2FA secrets
ENCRYPTION_KEY=your_32_character_encryption_key_here_change_this
ENCRYPTION_IV=your_16_char_iv

# ============================================================
# ADMIN DEFAULTS
# ============================================================
DEFAULT_ADMIN_EMAIL=admin@rtwe-erp.com
DEFAULT_ADMIN_PASSWORD=Admin@123456
DEFAULT_ADMIN_NAME=System Administrator

# ============================================================
# NOTES
# ============================================================
# 1. Change all secret keys before deploying to production
# 2. Use strong passwords (min 32 characters for secrets)
# 3. Enable HTTPS in production
# 4. Use environment-specific .env files (.env.production, .env.staging)
# 5. Store .env files securely, never commit to git
# 6. Rotate secrets regularly
# 7. Use a secrets manager (AWS Secrets Manager, Azure Key Vault) in production
